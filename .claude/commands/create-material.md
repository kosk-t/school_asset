# 教材作成コマンド

引数: $ARGUMENTS

## 指示

以下の条件で教材HTMLを作成してください。

### 基本設定
- **テーマ**: 引数で指定（例：二次方程式の平方完成、一次方程式、比例と反比例）
- **対象**: 指定がなければ中学生・基礎〜標準レベル
- **文体**: やさしく、手順は箇条書き、数式はLaTeX
- **禁止**: 個別の長い問題解説に偏らない（"考え方の道具箱"が主）

### 必須構成（見出し順）
1. **テーマの定義**（導入 → 学ぶ内容の箇条書き）
   - まず「なぜ学ぶか」を身近な例で動機づけ（1〜2文）
   - 次に「何を学ぶか」を箇条書きで簡潔に
   - 最重要ルールや詳細な説明はここに書かない（セクション2に任せる）
2. **覚えるルール**（最重要ルール + 図解 + その他ルール）
   - 最重要ルールを `important-rule` で強調 + 理解を助けるSVG図解
   - その他必要な法則・定理・公式を `rule-box` で重要度別に
   - ルールには `<p><strong>💡 なぜ〇〇？</strong> 説明文</p>` の形式で理由をできるだけ書く
3. **例題と解き方**（冒頭に解き方の流れを1文で概要。例題の中で解き方を示す。カテゴリごとに3〜5個）
4. **簡単にするコツ**（例題を解く際に役立つコツ。約分・因数分解・置換など）
5. **よくあるつまづき**（注意点と対策）
6. **仕上げチェックリスト**（5項目）
7. **練習問題**（2問程度。`<details>`で答えを折りたたみにする）
8. **まとめ一言**（ワンフレーズで要点を再確認）
9. **おまけ：実践ストーリー「タイトル」**（学んだルールを使う具体的なシナリオ）

### 例の作り方ガイド
- 例は「ルール → 1〜2行の適用」で短く
- 計算過程は最小限に抑える

### 実践ストーリーの作り方

教材で学んだルールを使って解決する具体的なシナリオを、物語形式で描く。

**目次とh2見出しのフォーマット**:
- 目次: `おまけ：実践ストーリー「ストーリータイトル」`
- h2見出し: `おまけ：実践ストーリー「ストーリータイトル」`
- story-title: `📖 ストーリータイトル`
- タイトルは3箇所で統一すること

**話題の選び方**（以下から自由に選択）:
- 身近な話題: ゲーム、スポーツ、お金、建築・DIY、料理、SNS・動画など
- 昔話・歴史系: 商人、農夫、職人、旅人、王様・賢者など

**構成**:

1. **状況設定**（2〜3文）
   - 登場人物と困っている問題を提示
   - 「〜したい」「〜を求めたい」という目標を明確に
   - ユーモアを含んだストーリー

2. **問題を数式に変換**（1段階ずつ丁寧に）
   - 何を変数に置くか説明
   - 条件を1つずつ式にしていく
   - 「つまり○○ということは...」のような接続

3. **計算過程**（省略せず詳細に）
   - 1行に1ステップ
   - 途中で「ここで○○の公式を使う」など解説を挟む
   - 教材で学んだルールを実際に適用する場面を見せる
   - 数式は5〜10行程度

4. **結論**（1〜2文）
   - 計算結果を元の問題に戻して解釈
   - 「だから○○だ！」と具体的な答え

5. **オチ**（1文）
   - 登場人物の感想やひとこと
   - ユーモアを入れて

**トーン**:
- カジュアル、話し言葉OK
- 昔話風なら「〜じゃ」「〜であった」など
- 身近な話題なら現代的な言い回し

**分量目安**:
- 全体で300〜500字程度（数式除く）

### ルールと計算例のリンク
- 各計算例には `id` 属性を付与（例: `id="ex-basic"`）
- ルールの見出しに対応する計算例へのリンクを追加
- リンクには `class="example-link"` を使用

```html
<!-- 計算例にidを付ける -->
<div class="example-box" id="ex-factoring">
    <div class="example-title">
        <span class="number-badge">例1</span>因数分解で解く
    </div>
    ...
</div>

<!-- ルールからリンクする -->
<div class="rule-box">
    <strong>📌 因数分解のパターン</strong> <a href="#ex-factoring" class="example-link">→ 例1</a>
    ...
</div>
```

### 数式の記法
- インライン: `\(` `\)`
- ディスプレイ: `\[` `\]`

### SVG図解
- 理解を助けるSVG図解を適切に追加
- 既存教材 `docs/データの分析と確率_教材.html` を参考に
- 要素が重ならないよう座標に注意
- **必ず `svg-caption` をつける**（図番号が自動付与される）
- **SVG内ではLaTeX記法（`\(` `\)`）は使用不可**（KaTeXがレンダリングされない）
  - 数式はUnicode文字を使う：`²` `³` `⁴` `⁵`（上付き）、`√` `×` `÷` `±` `−`
  - 例：`\( 2^3 \)` → `2³`、`\( \sqrt{9} \)` → `√9`
- **矢印マーカーは常に同じ形状を使う**（`orient="auto"` がパス方向に自動回転する）
  ```html
  <!-- 矢印の定義（色だけ変える、形状は全て同じ） -->
  <defs>
      <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
          <polygon points="0 0, 10 3, 0 6" fill="#4caf50"/>
      </marker>
      <marker id="arrow-purple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
          <polygon points="0 0, 10 3, 0 6" fill="#9c27b0"/>
      </marker>
  </defs>
  <!-- パスの向きで矢印の向きが決まる -->
  <path d="M 100 50 L 200 50" marker-end="url(#arrow-green)"/>  <!-- 右向き -->
  <path d="M 200 80 L 100 80" marker-end="url(#arrow-purple)"/> <!-- 左向き -->
  <path d="M 150 100 L 150 150" marker-end="url(#arrow-green)"/> <!-- 下向き -->
  ```
  ```html
  <div class="svg-container">
      <svg>...</svg>
      <div class="svg-caption">図の説明文</div>
  </div>
  ```

### テンプレートと出力
1. `docs/education-template.html` をベースに使用
2. CSSパスは `css/education-template.css` のまま
3. 出力先: `docs/<テーマ名>_教材.html`

### 教材メタ情報（必須）
`<body>`直後に以下のコメントを含めてください（画像生成AI用）:

```html
<!--
========== 教材メタ情報（画像生成用） ==========
テーマ: テーマ名
対象: 中学生・基礎〜標準レベル
概要: このテーマで学ぶ内容を2〜3文で説明
キーワード: 重要な用語をカンマ区切りで5〜8個
イメージ: 表紙画像に含めたいビジュアル要素の説明（図形、グラフ、数式など）
================================================
-->
```

### 目次ページへの追加
教材作成後、`docs/index.html` に以下の形式でリンクを追加してください。

**分類カテゴリ**（適切なものを選択）:
- 数と式（正負の数、文字式、式の展開、因数分解など）
- 方程式（一次方程式、連立方程式、二次方程式など）
- 関数（比例・反比例、一次関数、二次関数など）
- 図形（平面図形、空間図形、合同、相似、三平方の定理など）
- データの活用（度数分布、代表値、確率など）

**追加するHTML形式**:
```html
<li class="material-item">
    <a href="<テーマ名>_教材.html"><テーマ名></a>
    <div class="material-desc">簡潔な説明（キーワード3つ程度）</div>
    <span class="level-badge level-standard">基礎〜標準</span>
</li>
```

**レベルバッジ**:
- `level-basic`: 基礎
- `level-standard`: 基礎〜標準
- `level-advanced`: 標準〜発展
