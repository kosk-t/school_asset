---
layout: material-raw
title: 点と直線
icon: "📐"
description: 座標平面における図形の扱いを学ぶ。内分・外分の公式、直線の方程式の各種表現、2直線の関係（平行・垂直）、点と直線の距離公式を習得する。図形と方程式の基礎となる重要単元。
level: 標準
level_num: 2
category: geometry
school_level: senior
order: 6
keywords:
  - 内分点
  - 外分点
  - 直線の方程式
  - 傾き
  - 平行
  - 垂直
  - 点と直線の距離
  - 図形と方程式
cover_image: /images/noimage.jpg
cover_description: 座標平面上の直線、内分・外分点、点から直線への垂線、距離公式の図解
battle_game: false
toc:
  - id: section1
    title: "テーマの定義"
  - id: section2
    title: "覚えるルール"
  - id: section3
    title: "例題と解き方"
  - id: section4
    title: "簡単にするコツ"
  - id: section5
    title: "よくあるつまづき"
  - id: section6
    title: "仕上げチェックリスト"
  - id: section7
    title: "練習問題"
  - id: section8
    title: "まとめ一言"
  - id: story
    title: "おまけ：歴史ストーリー「解析幾何学の誕生」"
related:
  - url: /junior/座標平面上の直線_教材.html
    title: 座標平面上の直線
    note: 中学で学んだ傾き・中点の復習に
    type: prerequisite
  - url: /junior/三平方の定理_教材.html
    title: 三平方の定理
    note: 2点間の距離の基礎
    type: prerequisite
---
<!-- ========== 1. テーマの定義 ========== -->
<section id="section1">
    <h2>1. テーマの定義</h2>
    <div class="section">
        <p>建築設計で「柱Aと柱Bを2:3に分ける位置に壁を立てたい」とき、座標を使えば正確な位置を計算で出せます。また「道路から建物まで何メートル離れているか」も、点と直線の距離公式で一発です。</p>
        <p>このページでは、座標平面上の図形計算に必要な公式を学びます：</p>
        <ul>
            <li><strong>内分・外分公式</strong>：線分を指定した比で分ける点の座標</li>
            <li><strong>直線の方程式</strong>：傾きと切片、一般形など複数の表し方</li>
            <li><strong>2直線の関係</strong>：平行条件・垂直条件を傾きで判定</li>
            <li><strong>点と直線の距離公式</strong>：点から直線に下ろした垂線の長さ</li>
        </ul>
    </div>
</section>

<!-- ========== 2. 覚えるルール ========== -->
<section id="section2">
    <h2>2. 覚えるルール</h2>
    <div class="section">
        <div class="important-rule">
            【最重要】直線の方程式を使いこなすには「傾き」と「通る点」が鍵！
        </div>

        <h3 style="color: #1976d2; margin: 15px 0 10px 0;">▶ 内分・外分</h3>

        <div class="rule-box" id="rule-internal-division">
            <strong>📌 内分点の公式</strong> <a href="#ex-internal" class="example-link">→ 例1</a>
            <div class="formula">
                \[ P = \left( \frac{nx_1 + mx_2}{m + n}, \frac{ny_1 + my_2}{m + n} \right) \]
            </div>
            <p>点 \(A(x_1, y_1)\)、\(B(x_2, y_2)\) を結ぶ線分を \(m : n\) に<strong>内分</strong>する点 \(P\) の座標。</p>
            <p><strong>→ だから結果は：</strong> 点Pは線分AB上にあり、AP : PB = m : n となる。</p>
            <details class="thinking"><summary><strong>💡 考え方を見る</strong></summary>
            <p>「m : n に内分」とは、Aに近い側がm、Bに近い側がnです。分子では、<strong>遠い方の比を座標に掛ける</strong>（Bに近い方の比mをx₂に、Aに近い方の比nをx₁に掛ける）と覚えましょう。</p>
            </details>

            <div class="svg-container">
                <svg width="700" height="180" viewBox="0 0 700 180">
                    <text x="350" y="25" font-size="16" font-weight="bold" fill="#1976d2" text-anchor="middle">内分点は線分の「内側」にある</text>

                    <!-- 線分AB -->
                    <line x1="100" y1="100" x2="600" y2="100" stroke="#333" stroke-width="3"/>

                    <!-- 点A -->
                    <circle cx="100" cy="100" r="6" fill="#e53935"/>
                    <text x="100" y="85" font-size="16" font-weight="bold" fill="#e53935" text-anchor="middle">A</text>
                    <text x="100" y="135" font-size="14" fill="#666" text-anchor="middle">(x₁, y₁)</text>

                    <!-- 点B -->
                    <circle cx="600" cy="100" r="6" fill="#1976d2"/>
                    <text x="600" y="85" font-size="16" font-weight="bold" fill="#1976d2" text-anchor="middle">B</text>
                    <text x="600" y="135" font-size="14" fill="#666" text-anchor="middle">(x₂, y₂)</text>

                    <!-- 内分点P（2:3に内分なら、100 + 500*2/5 = 300） -->
                    <circle cx="300" cy="100" r="6" fill="#4caf50"/>
                    <text x="300" y="85" font-size="16" font-weight="bold" fill="#4caf50" text-anchor="middle">P</text>

                    <!-- 比の表示 -->
                    <text x="200" y="155" font-size="16" font-weight="bold" fill="#e53935" text-anchor="middle">m</text>
                    <line x1="100" y1="115" x2="300" y2="115" stroke="#e53935" stroke-width="2"/>

                    <text x="450" y="155" font-size="16" font-weight="bold" fill="#1976d2" text-anchor="middle">n</text>
                    <line x1="300" y1="115" x2="600" y2="115" stroke="#1976d2" stroke-width="2"/>
                </svg>
                <div class="svg-caption">AP : PB = m : n となる点Pが内分点</div>
            </div>
        </div>

        <div class="rule-box" id="rule-external-division">
            <strong>📌 外分点の公式</strong> <a href="#ex-external" class="example-link">→ 例2</a>
            <div class="formula">
                \[ Q = \left( \frac{-nx_1 + mx_2}{m - n}, \frac{-ny_1 + my_2}{m - n} \right) \]
            </div>
            <p>点 \(A(x_1, y_1)\)、\(B(x_2, y_2)\) を結ぶ線分を \(m : n\) に<strong>外分</strong>する点 \(Q\) の座標。</p>
            <p><strong>→ だから結果は：</strong> 点Qは線分ABの延長上にあり、AQ : QB = m : n となる。</p>
            <p><strong>✅ メリット：</strong> 線分の延長上の点も計算で求められる。</p>
            <details class="thinking"><summary><strong>💡 考え方を見る</strong></summary>
            <p>外分は「線分の外側」に点がある場合です。内分公式で \(n\) を \(-n\) に置き換えると外分公式になります。符号が変わるのは、点が逆方向にあるためです。</p>
            </details>

            <div class="svg-container">
                <svg width="700" height="180" viewBox="0 0 700 180">
                    <text x="350" y="25" font-size="16" font-weight="bold" fill="#1976d2" text-anchor="middle">外分点は線分の「延長上」にある</text>

                    <!-- 延長線 -->
                    <line x1="100" y1="100" x2="650" y2="100" stroke="#ccc" stroke-width="2" stroke-dasharray="6,3"/>

                    <!-- 線分AB -->
                    <line x1="200" y1="100" x2="400" y2="100" stroke="#333" stroke-width="3"/>

                    <!-- 点A -->
                    <circle cx="200" cy="100" r="6" fill="#e53935"/>
                    <text x="200" y="85" font-size="16" font-weight="bold" fill="#e53935" text-anchor="middle">A</text>

                    <!-- 点B -->
                    <circle cx="400" cy="100" r="6" fill="#1976d2"/>
                    <text x="400" y="85" font-size="16" font-weight="bold" fill="#1976d2" text-anchor="middle">B</text>

                    <!-- 外分点Q（3:1に外分 → Bの延長上） -->
                    <circle cx="600" cy="100" r="6" fill="#ff9800"/>
                    <text x="600" y="85" font-size="16" font-weight="bold" fill="#ff9800" text-anchor="middle">Q</text>

                    <!-- 比の表示 -->
                    <text x="400" y="135" font-size="14" fill="#666" text-anchor="middle">AQ : QB = m : n</text>
                    <text x="400" y="155" font-size="14" fill="#666" text-anchor="middle">（m > n のとき、QはBの外側）</text>
                </svg>
                <div class="svg-caption">外分点Qは線分ABの延長上にある</div>
            </div>
        </div>

        <h3 style="color: #1976d2; margin: 25px 0 10px 0;">▶ 直線の方程式</h3>

        <div class="rule-box" id="rule-line-forms">
            <strong>📌 直線の方程式の3つの形</strong> <a href="#ex-line-equation" class="example-link">→ 例3</a>

            <table class="material-table" style="margin: 15px 0;">
                <tr>
                    <th style="width: 25%;">形</th>
                    <th style="width: 40%;">式</th>
                    <th style="width: 35%;">使いどころ</th>
                </tr>
                <tr>
                    <td><strong>傾き・切片形</strong></td>
                    <td>\( y = mx + c \)</td>
                    <td>グラフを描くとき</td>
                </tr>
                <tr>
                    <td><strong>点・傾き形</strong></td>
                    <td>\( y - y_1 = m(x - x_1) \)</td>
                    <td>通る点と傾きがわかるとき</td>
                </tr>
                <tr>
                    <td><strong>一般形</strong></td>
                    <td>\( ax + by + c = 0 \)</td>
                    <td>距離公式を使うとき</td>
                </tr>
            </table>

            <p><strong>→ だから結果は：</strong> 状況に応じて使い分けると計算が楽になる。</p>
            <details class="thinking"><summary><strong>💡 考え方を見る</strong></summary>
            <p>どの形も同じ直線を表しています。一般形 \(ax + by + c = 0\) の傾きは \(-\frac{a}{b}\)、y切片は \(-\frac{c}{b}\) です（\(b \neq 0\) のとき）。</p>
            </details>
        </div>

        <div class="rule-box" id="rule-two-points">
            <strong>📌 2点を通る直線</strong> <a href="#ex-two-points" class="example-link">→ 例4</a>
            <div class="formula">
                \[ \frac{y - y_1}{y_2 - y_1} = \frac{x - x_1}{x_2 - x_1} \]
            </div>
            <p>2点 \((x_1, y_1)\)、\((x_2, y_2)\) を通る直線の方程式。</p>
            <p><strong>💡 別解：</strong> 傾き \(m = \frac{y_2 - y_1}{x_2 - x_1}\) を求めてから点・傾き形に代入してもOK。</p>
        </div>

        <h3 style="color: #1976d2; margin: 25px 0 10px 0;">▶ 2直線の関係</h3>

        <div class="rule-box" id="rule-parallel-perpendicular">
            <strong>📌 平行条件・垂直条件</strong> <a href="#ex-parallel" class="example-link">→ 例5</a>
            <p>2つの直線 \(\ell_1 : y = m_1x + c_1\)、\(\ell_2 : y = m_2x + c_2\) について：</p>
            <div class="formula">
                \[ \text{平行} \iff m_1 = m_2 \]
                \[ \text{垂直} \iff m_1 \cdot m_2 = -1 \]
            </div>
            <p><strong>→ だから結果は：</strong> 傾きだけで直線の位置関係がわかる。</p>
            <p><strong>✅ メリット：</strong> 垂直条件 \(m_1 \cdot m_2 = -1\) から、垂直な直線の傾きは \(-\frac{1}{m_1}\) と求められる。</p>

            <div class="svg-container">
                <svg width="700" height="200" viewBox="0 0 700 200">
                    <!-- 左側：平行 -->
                    <text x="175" y="25" font-size="14" font-weight="bold" fill="#1976d2" text-anchor="middle">平行：傾き同じ</text>
                    <line x1="50" y1="180" x2="300" y2="180" stroke="#333" stroke-width="1"/>
                    <line x1="50" y1="180" x2="50" y2="40" stroke="#333" stroke-width="1"/>
                    <line x1="70" y1="160" x2="280" y2="60" stroke="#e53935" stroke-width="3"/>
                    <line x1="70" y1="120" x2="280" y2="20" stroke="#1976d2" stroke-width="3"/>
                    <text x="290" y="55" font-size="14" fill="#e53935">m₁ = m₂</text>

                    <!-- 右側：垂直 -->
                    <text x="525" y="25" font-size="14" font-weight="bold" fill="#4caf50" text-anchor="middle">垂直：傾きの積 = -1</text>
                    <line x1="400" y1="180" x2="650" y2="180" stroke="#333" stroke-width="1"/>
                    <line x1="400" y1="180" x2="400" y2="40" stroke="#333" stroke-width="1"/>
                    <line x1="420" y1="160" x2="620" y2="60" stroke="#e53935" stroke-width="3"/>
                    <line x1="420" y1="60" x2="520" y2="160" stroke="#4caf50" stroke-width="3"/>
                    <text x="620" y="55" font-size="14" fill="#333">m₁m₂ = -1</text>

                    <!-- 直角マーク -->
                    <rect x="468" y="108" width="12" height="12" fill="none" stroke="#666" stroke-width="1"/>
                </svg>
                <div class="svg-caption">平行なら傾きが等しく、垂直なら傾きの積が-1</div>
            </div>
        </div>

        <h3 style="color: #1976d2; margin: 25px 0 10px 0;">▶ 点と直線の距離</h3>

        <div class="rule-box" id="rule-point-line-distance">
            <strong>📌 点と直線の距離公式</strong> <a href="#ex-distance" class="example-link">→ 例6</a>
            <div class="formula">
                \[ d = \frac{|ax_0 + by_0 + c|}{\sqrt{a^2 + b^2}} \]
            </div>
            <p>点 \(P(x_0, y_0)\) から直線 \(ax + by + c = 0\) への距離。</p>
            <p><strong>→ だから結果は：</strong> 点から直線に下ろした垂線の長さが求まる。</p>
            <p><strong>✅ メリット：</strong> 三角形の高さや2平行線間の距離も計算できる。</p>
            <details class="thinking"><summary><strong>💡 考え方を見る</strong></summary>
            <p>分子は「点の座標を直線の式に代入した結果の絶対値」です。分母は「aとbの2乗の和の平方根」で、これは直線の法線ベクトル \((a, b)\) の長さです。</p>
            </details>

            <div class="svg-container">
                <svg width="700" height="220" viewBox="0 0 700 220">
                    <text x="350" y="25" font-size="16" font-weight="bold" fill="#1976d2" text-anchor="middle">点と直線の距離 = 垂線の長さ</text>

                    <!-- 座標軸 -->
                    <line x1="100" y1="200" x2="600" y2="200" stroke="#ccc" stroke-width="1"/>
                    <line x1="100" y1="200" x2="100" y2="50" stroke="#ccc" stroke-width="1"/>

                    <!-- 直線 ax + by + c = 0 -->
                    <line x1="150" y1="180" x2="550" y2="80" stroke="#1976d2" stroke-width="3"/>
                    <text x="560" y="75" font-size="14" fill="#1976d2">ax + by + c = 0</text>

                    <!-- 点P -->
                    <circle cx="250" cy="70" r="6" fill="#e53935"/>
                    <text x="260" y="65" font-size="16" font-weight="bold" fill="#e53935">P(x₀, y₀)</text>

                    <!-- 垂線 -->
                    <line x1="250" y1="70" x2="310" y2="140" stroke="#4caf50" stroke-width="2" stroke-dasharray="6,3"/>

                    <!-- 距離d -->
                    <text x="290" y="95" font-size="16" font-weight="bold" fill="#4caf50">d</text>

                    <!-- 直角マーク -->
                    <rect x="302" y="132" width="10" height="10" fill="none" stroke="#666" stroke-width="1" transform="rotate(-32, 307, 137)"/>

                    <!-- 垂線の足H -->
                    <circle cx="310" cy="140" r="4" fill="#666"/>
                    <text x="320" y="155" font-size="14" fill="#666">H</text>
                </svg>
                <div class="svg-caption">距離dは点Pから直線に下ろした垂線PHの長さ</div>
            </div>
        </div>
    </div>
</section>

<!-- ========== 3. 例題と解き方 ========== -->
<section id="section3">
    <h2>3. 例題と解き方</h2>
    <div class="section">
        <p>公式を使って実際に計算してみましょう。符号と比の順序に注意！</p>

        <h3 style="color: #1976d2; margin: 15px 0 10px 0;">▶ 内分・外分</h3>

        <div class="example-box" id="ex-internal">
            <div class="example-title">
                <span class="number-badge">例1</span>内分点を求める
            </div>
            <p>2点 \(A(1, 2)\)、\(B(7, 8)\) を結ぶ線分を \(2 : 1\) に内分する点 \(P\) の座標を求めよ。</p>
            <p><strong>解き方：</strong></p>
            <ol>
                <li>m = 2、n = 1 とおく（AP : PB = 2 : 1）</li>
                <li>内分公式に代入（遠い方の比を座標に掛ける）</li>
                <li>x座標：\(\frac{1 \cdot 1 + 2 \cdot 7}{2 + 1} = \frac{1 + 14}{3} = \frac{15}{3} = 5\)</li>
                <li>y座標：\(\frac{1 \cdot 2 + 2 \cdot 8}{2 + 1} = \frac{2 + 16}{3} = \frac{18}{3} = 6\)</li>
            </ol>
            <div class="formula">
                \[ P = \left( \frac{1 \cdot 1 + 2 \cdot 7}{2 + 1}, \frac{1 \cdot 2 + 2 \cdot 8}{2 + 1} \right) = (5, 6) \]
            </div>
        </div>

        <div class="example-box" id="ex-external">
            <div class="example-title">
                <span class="number-badge">例2</span>外分点を求める
            </div>
            <p>2点 \(A(1, 3)\)、\(B(4, 9)\) を結ぶ線分を \(2 : 1\) に外分する点 \(Q\) の座標を求めよ。</p>
            <p><strong>解き方：</strong></p>
            <ol>
                <li>m = 2、n = 1 とおく（AQ : QB = 2 : 1、Qは外側）</li>
                <li>外分公式に代入（分母は m - n）</li>
                <li>x座標：\(\frac{-1 \cdot 1 + 2 \cdot 4}{2 - 1} = \frac{-1 + 8}{1} = 7\)</li>
                <li>y座標：\(\frac{-1 \cdot 3 + 2 \cdot 9}{2 - 1} = \frac{-3 + 18}{1} = 15\)</li>
            </ol>
            <div class="formula">
                \[ Q = \left( \frac{-1 \cdot 1 + 2 \cdot 4}{2 - 1}, \frac{-1 \cdot 3 + 2 \cdot 9}{2 - 1} \right) = (7, 15) \]
            </div>
        </div>

        <h3 style="color: #1976d2; margin: 25px 0 10px 0;">▶ 直線の方程式</h3>

        <div class="example-box" id="ex-line-equation">
            <div class="example-title">
                <span class="number-badge">例3</span>傾きと1点から直線の式を求める
            </div>
            <p>傾きが3で、点 \((2, 5)\) を通る直線の方程式を求めよ。</p>
            <p><strong>解き方：</strong></p>
            <ol>
                <li>点・傾き形 \(y - y_1 = m(x - x_1)\) を使う</li>
                <li>\(m = 3\)、\((x_1, y_1) = (2, 5)\) を代入</li>
                <li>展開して整理</li>
            </ol>
            <div class="formula">
                \[ y - 5 = 3(x - 2) \]
                \[ y - 5 = 3x - 6 \]
                \[ y = 3x - 1 \]
            </div>
            <p><strong>一般形：</strong> \(3x - y - 1 = 0\)</p>
        </div>

        <div class="example-box" id="ex-two-points">
            <div class="example-title">
                <span class="number-badge">例4</span>2点を通る直線
            </div>
            <p>2点 \((1, 2)\)、\((4, 8)\) を通る直線の方程式を求めよ。</p>
            <p><strong>解き方：</strong></p>
            <ol>
                <li>傾きを求める：\(m = \frac{8 - 2}{4 - 1} = \frac{6}{3} = 2\)</li>
                <li>点・傾き形に代入（どちらの点を使ってもOK）</li>
                <li>\(y - 2 = 2(x - 1)\) を展開</li>
            </ol>
            <div class="formula">
                \[ y - 2 = 2(x - 1) \]
                \[ y = 2x \]
            </div>
        </div>

        <h3 style="color: #1976d2; margin: 25px 0 10px 0;">▶ 2直線の関係</h3>

        <div class="example-box" id="ex-parallel">
            <div class="example-title">
                <span class="number-badge">例5</span>平行な直線・垂直な直線
            </div>
            <p>直線 \(\ell : y = 2x + 3\) に対して：</p>
            <p>(1) 点 \((1, 4)\) を通り、\(\ell\) に平行な直線</p>
            <p>(2) 点 \((1, 4)\) を通り、\(\ell\) に垂直な直線</p>
            <p><strong>解き方：</strong></p>
            <p><strong>(1) 平行 → 傾きが同じ</strong></p>
            <ol>
                <li>\(\ell\) の傾きは 2 → 求める直線の傾きも 2</li>
                <li>\(y - 4 = 2(x - 1)\) → \(y = 2x + 2\)</li>
            </ol>
            <p><strong>(2) 垂直 → 傾きの積が -1</strong></p>
            <ol>
                <li>\(\ell\) の傾きは 2 → 垂直な直線の傾きは \(-\frac{1}{2}\)</li>
                <li>\(y - 4 = -\frac{1}{2}(x - 1)\) → \(y = -\frac{1}{2}x + \frac{9}{2}\)</li>
            </ol>
            <div class="formula">
                \[ \text{(1) } y = 2x + 2 \quad \text{(2) } y = -\frac{1}{2}x + \frac{9}{2} \]
            </div>
        </div>

        <h3 style="color: #1976d2; margin: 25px 0 10px 0;">▶ 点と直線の距離</h3>

        <div class="example-box" id="ex-distance">
            <div class="example-title">
                <span class="number-badge">例6</span>点と直線の距離を求める
            </div>
            <p>点 \((3, 4)\) から直線 \(3x + 4y - 5 = 0\) への距離を求めよ。</p>
            <p><strong>解き方：</strong></p>
            <ol>
                <li>距離公式 \(d = \frac{|ax_0 + by_0 + c|}{\sqrt{a^2 + b^2}}\) を使う</li>
                <li>\(a = 3\)、\(b = 4\)、\(c = -5\)、\((x_0, y_0) = (3, 4)\)</li>
                <li>分子：\(|3 \cdot 3 + 4 \cdot 4 + (-5)| = |9 + 16 - 5| = |20| = 20\)</li>
                <li>分母：\(\sqrt{3^2 + 4^2} = \sqrt{9 + 16} = \sqrt{25} = 5\)</li>
            </ol>
            <div class="formula">
                \[ d = \frac{|3 \cdot 3 + 4 \cdot 4 - 5|}{\sqrt{3^2 + 4^2}} = \frac{|9 + 16 - 5|}{\sqrt{25}} = \frac{20}{5} = 4 \]
            </div>
        </div>

        <div class="example-box" id="ex-parallel-distance">
            <div class="example-title">
                <span class="number-badge">例7</span>2平行線間の距離
            </div>
            <p>2直線 \(3x + 4y - 2 = 0\) と \(3x + 4y + 8 = 0\) の間の距離を求めよ。</p>
            <p><strong>解き方：</strong></p>
            <ol>
                <li>平行線間の距離 = 一方の直線上の点から他方への距離</li>
                <li>直線 \(3x + 4y - 2 = 0\) 上の点として \((0, \frac{1}{2})\) を選ぶ（\(x = 0\) を代入）</li>
                <li>この点から \(3x + 4y + 8 = 0\) への距離を求める</li>
            </ol>
            <div class="formula">
                \[ d = \frac{|3 \cdot 0 + 4 \cdot \frac{1}{2} + 8|}{\sqrt{9 + 16}} = \frac{|0 + 2 + 8|}{5} = \frac{10}{5} = 2 \]
            </div>
            <p><strong>💡 別解：</strong> \(ax + by + c_1 = 0\) と \(ax + by + c_2 = 0\) の距離は \(\frac{|c_1 - c_2|}{\sqrt{a^2 + b^2}} = \frac{|-2 - 8|}{5} = 2\)</p>
        </div>
    </div>
</section>

<!-- ========== 4. 簡単にするコツ ========== -->
<section id="section4">
    <h2>4. 簡単にするコツ</h2>
    <div class="section">
        <div class="tip-box">
            <strong>✏️ コツ1：内分公式は「遠い方の比を掛ける」</strong><br>
            \(m : n\) に内分するとき、Aから遠い側の比 \(n\) を \(x_1\) に、Bから遠い側の比 \(m\) を \(x_2\) に掛ける。「遠い比をかける」と覚えよう。
        </div>

        <div class="tip-box">
            <strong>✏️ コツ2：外分は「内分で n を -n に」</strong><br>
            外分公式を覚えるのが大変なら、内分公式で \(n\) を \(-n\) に置き換えればOK。分母は \(m + (-n) = m - n\) となる。
        </div>

        <div class="tip-box">
            <strong>✏️ コツ3：垂直な傾きは「符号を変えて逆数」</strong><br>
            傾き \(m\) に垂直な直線の傾きは \(-\frac{1}{m}\)。例：傾き 2 に垂直なら \(-\frac{1}{2}\)、傾き \(-3\) に垂直なら \(\frac{1}{3}\)。
        </div>

        <div class="tip-box">
            <strong>✏️ コツ4：距離公式は「代入→絶対値→割る」</strong><br>
            点の座標を直線の式（左辺）に代入 → 絶対値をとる → \(\sqrt{a^2 + b^2}\) で割る。この手順を守れば間違えない。
        </div>

        <div class="tip-box">
            <strong>✏️ コツ5：図を描いて確認</strong><br>
            内分点が線分の内側にあるか、外分点が延長上にあるか、距離が正の値になっているかなど、図で確認するとミスが減る。
        </div>
    </div>
</section>

<!-- ========== 5. よくあるつまづき ========== -->
<section id="section5">
    <h2>5. よくあるつまづき</h2>
    <div class="section">
        <div class="caution-box">
            <div class="caution-title">⚠️ つまづき1：内分公式で比を逆に掛ける</div>
            <p><strong>ダメな例：</strong> \(m : n\) に内分で、\(m\) を \(x_1\) に、\(n\) を \(x_2\) に掛けてしまう</p>
            <p><strong>対策：</strong> 「遠い方の比を掛ける」と覚える。Aから遠い（Bに近い）比 \(n\) を \(x_1\) に掛ける。</p>
        </div>

        <div class="caution-box">
            <div class="caution-title">⚠️ つまづき2：外分で符号を間違える</div>
            <p><strong>ダメな例：</strong> 外分公式の分母を \(m + n\) としてしまう</p>
            <p><strong>対策：</strong> 外分は \(m - n\)、内分は \(m + n\)。「外はマイナス、内はプラス」と覚える。</p>
        </div>

        <div class="caution-box">
            <div class="caution-title">⚠️ つまづき3：距離公式で絶対値を忘れる</div>
            <p><strong>ダメな例：</strong> 分子を \(ax_0 + by_0 + c\) のまま計算し、負の距離が出てしまう</p>
            <p><strong>対策：</strong> 距離は必ず正なので、分子は絶対値 \(|ax_0 + by_0 + c|\) をとる。</p>
        </div>

        <div class="caution-box">
            <div class="caution-title">⚠️ つまづき4：垂直条件で符号を忘れる</div>
            <p><strong>ダメな例：</strong> 傾き 2 に垂直な直線の傾きを \(\frac{1}{2}\) とする（符号忘れ）</p>
            <p><strong>対策：</strong> 「符号を変えて逆数」。\(2 \to -\frac{1}{2}\)、\(-3 \to \frac{1}{3}\)。積が \(-1\) になるか確認。</p>
        </div>

        <div class="caution-box">
            <div class="caution-title">⚠️ つまづき5：直線を一般形に直し忘れる</div>
            <p><strong>ダメな例：</strong> \(y = 2x + 3\) のまま距離公式に当てはめようとする</p>
            <p><strong>対策：</strong> 距離公式は \(ax + by + c = 0\) の形で使う。\(y = 2x + 3\) → \(2x - y + 3 = 0\) と変形してから。</p>
        </div>
    </div>
</section>

<!-- ========== 6. 仕上げチェックリスト ========== -->
<section id="section6">
    <h2>6. 仕上げチェックリスト</h2>
    <div class="section">
        <div class="checklist">
            <div class="checklist-item">内分点・外分点の座標は、元の2点の間（内分）または延長上（外分）にあるか</div>
            <div class="checklist-item">直線の方程式を一般形に直すとき、符号を正しく移項したか</div>
            <div class="checklist-item">平行な直線は傾きが同じ、垂直な直線は傾きの積が -1 か確認したか</div>
            <div class="checklist-item">距離公式で絶対値を忘れていないか、分母の平方根を計算したか</div>
            <div class="checklist-item">計算結果が問題の条件と矛盾しないか（距離が正、点が正しい位置にあるなど）</div>
        </div>
    </div>
</section>

<!-- ========== 7. 練習問題 ========== -->
<section id="section7">
    <h2>7. 練習問題</h2>
    <div class="section">
        <p>学んだことを使って、以下の問題を解いてみよう。</p>

        <div class="rule-box" style="background: #f5f5f5;">
            <strong>練習1</strong>
            <p>2点 \(A(-2, 1)\)、\(B(4, 7)\) を結ぶ線分を \(1 : 2\) に内分する点の座標を求めよ。</p>
            <details style="margin-top: 15px;">
                <summary style="cursor: pointer; color: #4caf50; font-weight: bold;">答えを見る</summary>
                <div style="margin-top: 10px; padding: 10px; background: #e8f5e9; border-radius: 5px;">
                    <p>\(m = 1\)、\(n = 2\) として内分公式に代入：</p>
                    <p>x座標：\(\frac{2 \cdot (-2) + 1 \cdot 4}{1 + 2} = \frac{-4 + 4}{3} = 0\)</p>
                    <p>y座標：\(\frac{2 \cdot 1 + 1 \cdot 7}{1 + 2} = \frac{2 + 7}{3} = 3\)</p>
                    <p><strong>答え：\((0, 3)\)</strong></p>
                </div>
            </details>
        </div>

        <div class="rule-box" style="background: #f5f5f5; margin-top: 15px;">
            <strong>練習2</strong>
            <p>点 \((2, -1)\) を通り、直線 \(y = -3x + 5\) に垂直な直線の方程式を求めよ。</p>
            <details style="margin-top: 15px;">
                <summary style="cursor: pointer; color: #4caf50; font-weight: bold;">答えを見る</summary>
                <div style="margin-top: 10px; padding: 10px; background: #e8f5e9; border-radius: 5px;">
                    <p>元の直線の傾きは \(-3\)</p>
                    <p>垂直な直線の傾きは \(-\frac{1}{-3} = \frac{1}{3}\)</p>
                    <p>点・傾き形：\(y - (-1) = \frac{1}{3}(x - 2)\)</p>
                    <p>\(y + 1 = \frac{1}{3}x - \frac{2}{3}\)</p>
                    <p>\(y = \frac{1}{3}x - \frac{5}{3}\)</p>
                    <p><strong>答え：\(y = \frac{1}{3}x - \frac{5}{3}\)</strong>（または \(x - 3y - 5 = 0\)）</p>
                </div>
            </details>
        </div>

        <div class="rule-box" style="background: #f5f5f5; margin-top: 15px;">
            <strong>練習3</strong>
            <p>点 \((1, 2)\) から直線 \(4x - 3y + 5 = 0\) への距離を求めよ。</p>
            <details style="margin-top: 15px;">
                <summary style="cursor: pointer; color: #4caf50; font-weight: bold;">答えを見る</summary>
                <div style="margin-top: 10px; padding: 10px; background: #e8f5e9; border-radius: 5px;">
                    <p>距離公式に代入：</p>
                    <p>\(d = \frac{|4 \cdot 1 + (-3) \cdot 2 + 5|}{\sqrt{4^2 + (-3)^2}}\)</p>
                    <p>\(= \frac{|4 - 6 + 5|}{\sqrt{16 + 9}}\)</p>
                    <p>\(= \frac{|3|}{\sqrt{25}} = \frac{3}{5}\)</p>
                    <p><strong>答え：\(\frac{3}{5}\)</strong></p>
                </div>
            </details>
        </div>
    </div>
</section>

<!-- ========== まとめ一言 ========== -->
<section id="section8">
    <div class="summary">
        📌 まとめ：内分は「遠い比を掛ける」、直線は「傾き」で平行・垂直を判断、距離は「代入して絶対値」！
    </div>
</section>

<!-- ========== 関連教材 ========== -->
<!-- Front Matterのrelatedで指定すればレイアウトが自動生成します -->

<!-- ========== おまけ：歴史ストーリー ========== -->
<section id="story">
    <h2>おまけ：歴史ストーリー「解析幾何学の誕生」</h2>
    <div class="section">
        <div class="story-box">
            <div class="story-title">📖 図形と計算が出会った日</div>

            <p>17世紀まで、<strong>幾何学</strong>（図形の学問）と<strong>代数学</strong>（計算の学問）は全く別の分野でした。ユークリッド以来、図形は定規とコンパスで描くもの。計算は計算、図形は図形。誰もこの2つを結びつけようとは思いませんでした。</p>

            <p>ところが1637年、フランスの哲学者<strong>ルネ・デカルト</strong>が一冊の本を出版します。</p>

            <p>その本の付録に書かれていたのが、今日の教材で学んだ<strong>「座標」</strong>のアイデアでした。</p>

            <div class="formula">
                \[ \text{点} = (\text{x座標}, \text{y座標}) \]
            </div>

            <p>「点に数のペアを対応させる」。このシンプルなアイデアが、数学の歴史を変えました。</p>

            <p>点が数になると、<strong>直線は方程式 \(y = mx + c\)</strong> で表せます。円は \(x^2 + y^2 = r^2\)。曲線も全て方程式で書ける。つまり、<strong>図形の問題を計算で解ける</strong>ようになったのです。</p>

            <p>この新しい学問は<strong>「解析幾何学」</strong>と呼ばれ、後にニュートンやライプニッツが発見する<strong>微分積分学</strong>の土台となりました。今日皆さんが使っているスマホのGPS、ゲームの3Dグラフィックス、ロケットの軌道計算…全てデカルトの「座標」から始まっています。</p>

            <p>ちなみに、デカルトは体が弱く、毎朝ベッドで昼まで考え事をしていたそうです。「天井を這うハエの位置を数で表せないか」と考えて座標を思いついた、という伝説があります。</p>

            <p>朝寝坊も、たまには世界を変える発見につながるのです。</p>

            <p style="font-size: 14px; color: #666; margin-top: 20px;">
                ※デカルトと同時期に、フェルマーも独自に座標幾何学を研究していました。しかし、体系的に発表したのはデカルトが先でした。彼の座標系は「デカルト座標系（Cartesian coordinate system）」と呼ばれ、今も世界中で使われています。
            </p>
        </div>
    </div>
</section>
